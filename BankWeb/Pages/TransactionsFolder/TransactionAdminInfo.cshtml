@page
@model TransactionAdminInfoModel
@{
}

@* <style>
    .table td, .table th {
        width: 1%;
        white-space: nowrap;
        text-align: left;
    }
</style> *@


<div class="page-heading header-text">
    <h1>All transactions</h1>
</div>

<form method="get" class="text-center">
    <div class="form-group d-inline-block" style="width: 200px; margin-top: 10px;">
        <input type="text" class="form-control" name="search" placeholder="Enter Transaction ID" value="@Request.Query["search"]">
    </div>
    <button id="update-profile-button" type="submit" class="btn btn-primary">Search</button>
</form>

<table class="table table-striped">
    <thead>
        <tr>
            <th scope="col">
                Transaction ID
                   <a asp-page="/TransactionsFolder/TransactionAdminInfo"
                   asp-route-sortColumn="TransactionId"
                   asp-route-sortOrder="asc"
                   style="text-decoration: none">
                    <i class="fa-solid fa-angle-up"></i>
                </a>
                   <a asp-page="/TransactionsFolder/TransactionAdminInfo"
                   asp-route-sortColumn="TransactionId"
                   asp-route-sortOrder="desc"
                   style="text-decoration: none">
                    <i class="fa-solid fa-angle-down"></i>
                </a>
            </th>
            <th scope="col">
                Account ID
                   <a asp-page="/TransactionsFolder/TransactionAdminInfo"
                   asp-route-sortColumn="AccountId"
                   asp-route-sortOrder="asc"
                   style="text-decoration: none">
                    <i class="fa-solid fa-angle-up"></i>
                </a>
                   <a asp-page="/TransactionsFolder/TransactionAdminInfo"
                   asp-route-sortColumn="AccountId"
                   asp-route-sortOrder="desc"
                   style="text-decoration: none">
                    <i class="fa-solid fa-angle-down"></i>
                </a>
            </th>
            <th scope="col">
                Customer ID
                   <a asp-page="/TransactionsFolder/TransactionAdminInfo"
                   asp-route-sortColumn="CustomerId"
                   asp-route-sortOrder="asc"
                   style="text-decoration: none">
                    <i class="fa-solid fa-angle-up"></i>
                </a>
                   <a asp-page="/TransactionsFolder/TransactionAdminInfo"
                   asp-route-sortColumn="CustomerId"
                   asp-route-sortOrder="desc"
                   style="text-decoration: none">
                    <i class="fa-solid fa-angle-down"></i>
                </a>
            </th>
            <th scope="col">
                Date
                   <a asp-page="/TransactionsFolder/TransactionAdminInfo"
                   asp-route-sortColumn="DateOfTransaction"
                   asp-route-sortOrder="asc"
                   style="text-decoration: none">
                    <i class="fa-solid fa-angle-up"></i>
                </a>
                   <a asp-page="/TransactionsFolder/TransactionAdminInfo"
                   asp-route-sortColumn="DateOfTransaction"
                   asp-route-sortOrder="desc"
                   style="text-decoration: none">
                    <i class="fa-solid fa-angle-down"></i>
                </a>
            </th>
            <th scope="col">
                Operation
                   <a asp-page="/TransactionsFolder/TransactionAdminInfo"
                   asp-route-sortColumn="Operation"
                   asp-route-sortOrder="asc"
                   style="text-decoration: none">
                    <i class="fa-solid fa-angle-up"></i>
                </a>
                   <a asp-page="/TransactionsFolder/TransactionAdminInfo"
                   asp-route-sortColumn="Operation"
                   asp-route-sortOrder="desc"
                   style="text-decoration: none">
                    <i class="fa-solid fa-angle-down"></i>
                </a>
            </th>
            <th scope="col">
                Amount
                   <a asp-page="/TransactionsFolder/TransactionAdminInfo"
                   asp-route-sortColumn="Amount"
                   asp-route-sortOrder="asc"
                   style="text-decoration: none">
                    <i class="fa-solid fa-angle-up"></i>
                </a>
                   <a asp-page="/TransactionsFolder/TransactionAdminInfo"
                   asp-route-sortColumn="Amount"
                   asp-route-sortOrder="desc"
                   style="text-decoration: none">
                    <i class="fa-solid fa-angle-down"></i>
                </a>
            </th>
            <th scope="col">
                Balance
                   <a asp-page="/TransactionsFolder/TransactionAdminInfo"
                   asp-route-sortColumn="Balance"
                   asp-route-sortOrder="asc"
                   style="text-decoration: none">
                    <i class="fa-solid fa-angle-up"></i>
                </a>
                   <a asp-page="/TransactionsFolder/TransactionAdminInfo"
                   asp-route-sortColumn="Balance"
                   asp-route-sortOrder="desc"
                   style="text-decoration: none">
                    <i class="fa-solid fa-angle-down"></i>
                </a>
            </th>
        </tr>
    </thead>

    <tbody>
        @foreach (var transaction in Model.Transactions)
        {
            <tr>
                <td>@transaction.TransactionId</td>
                <td>@transaction.AccountId</td>
                <td>@transaction.CustomerId</td>
                <td>@transaction.DateOfTransaction</td>
                <td>@transaction.Operation</td>
                <td>SEK: @transaction.Amount.ToString("N2")</td>
                <td>SEK: @transaction.Balance.ToString("N2")</td>
            </tr>
        }
    </tbody>

    <tfoot>
        <tr>
            <td colspan="2" style="display: flex; gap: 6px;">
                <button id="update-profile-button" class="btn btn-primary" onclick="location.href='?page=@(Model.CurrentPage - 1)&sortColumn=@Request.Query["sortColumn"]&sortOrder=@Request.Query["sortOrder"]'" @(Model.CurrentPage == 1 ? "disabled" : "")>Previous</button>
                <button id="update-profile-button" class="btn btn-primary" onclick="location.href='?page=@(Model.CurrentPage + 1)&sortColumn=@Request.Query["sortColumn"]&sortOrder=@Request.Query["sortOrder"]'">Next</button>
                <p>Page @Model.CurrentPage of @Model.TotalPages</p>
                <button id="update-profile-button" class="btn btn-primary" onclick="location.href='?page=1&sortColumn=@Request.Query["sortColumn"]&sortOrder=@Request.Query["sortOrder"]'">First</button>
                <button id="update-profile-button" class="btn btn-primary" onclick="location.href='?page=@Model.TotalPages&sortColumn=@Request.Query["sortColumn"]&sortOrder=@Request.Query["sortOrder"]'">Last</button>
    </tfoot>
</table>


